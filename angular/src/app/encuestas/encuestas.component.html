<div style="background-color: #f1f3f3">
  <div class="container" style="padding-bottom: 2em;">
    <div *ngIf="authService.isAuthenticated()">
      <div class="button-right" style="justify-content: space-between">
          <h1 style="font-family: Metropolis-Regular, sans-serif">Mis encuestas</h1>
          <button style="font-family: Metropolis-Regular, sans-serif" mat-raised-button color="primary" aria-label="crea encuesta" [routerLink]="['/encuestas/crear']" *ngIf="authService.isAuthenticated()">
            Crear Encuesta
          </button>
      </div>
      <div *ngIf="encuestas.length == 0">
        <mat-card>
          <h3>No tienes ninguna encuesta!, empieza creando una.</h3>
        </mat-card>
      </div>

      <mat-accordion class="example-headers-align">
        <div *ngFor="let encuesta of encuestas" style="margin-bottom: 10px">
          <mat-expansion-panel style="padding-top: 10px">
            <mat-expansion-panel-header [collapsedHeight]="">
              <mat-panel-title style="font-family: Metropolis-Bold, sans-serif">
                <h3 style="padding-right: 10px">{{encuesta.titulo}}</h3>
                <mat-chip-list aria-label="tipo">
                  <mat-chip>{{encuesta.tipo}}</mat-chip>
                </mat-chip-list>
              </mat-panel-title>
              <mat-panel-description>
                {{encuesta.categoria.descripcion}}
              </mat-panel-description>
            </mat-expansion-panel-header>
            <h3>Preguntas</h3>
            <div>
              <div *ngFor="let pregunta of encuesta.preguntas">
                <p class="font-italic">- {{pregunta.descripcion}}</p>
              </div>
            </div>
            <div style="float: right; font-family: Metropolis-Regular, sans-serif">
              <button (click)="popupModal(encuesta.id)" style="margin-right: 20px;" mat-raised-button color="accent" aria-label="compartir">
                Compartir
              </button>
              <button [routerLink]="['/stadistics/encuesta/'+encuesta.id]" style="margin-right: 20px;" mat-raised-button color="secondary" aria-label="crea encuesta" *ngIf="authService.isAuthenticated()">
                Estadisticas
              </button>
              <button mat-raised-button color="warn" aria-label="crea encuesta" *ngIf="authService.isAuthenticated()"
                      matTooltip="Esta opcion eliminara la encuesta junto con sus resultados, no podra retractarse de esta accion!"
                      [matTooltipPosition]="'below'" (click)="eliminarEncuesta(encuesta.id)">
                Eliminar
              </button>
            </div>
          </mat-expansion-panel>
        </div>
      </mat-accordion>
    </div>
    <!--  <button (click)="mostrarEncuesta()">mostrar</button>-->
  </div>
</div>
